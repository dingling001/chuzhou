webpackJsonp([1],{cPxb:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r("mvHQ"),a=r.n(i),s={name:"orderTeam",data:function(){var t=/^1\d{10}$/,e=function(t){"x"==t.slice(17,18)&&(t=t.replace("x","X"));var e="",r=!0;if((t=t.toString())&&/^\d{6}(18|19|20)?\d{2}(0[1-9]|1[012])(0[1-9]|[12]\d|3[01])\d{3}(\d|X)$/i.test(t))if({11:"北京",12:"天津",13:"河北",14:"山西",15:"内蒙古",21:"辽宁",22:"吉林",23:"黑龙江 ",31:"上海",32:"江苏",33:"浙江",34:"安徽",35:"福建",36:"江西",37:"山东",41:"河南",42:"湖北 ",43:"湖南",44:"广东",45:"广西",46:"海南",50:"重庆",51:"四川",52:"贵州",53:"云南",54:"西藏 ",61:"陕西",62:"甘肃",63:"青海",64:"宁夏",65:"新疆",71:"台湾",81:"香港",82:"澳门",91:"国外 "}[t.substr(0,2)]){if(18==t.length){t=t.split("");for(var i=[7,9,10,5,8,4,2,1,6,3,7,9,10,5,8,4,2],a=[1,0,"X",9,8,7,6,5,4,3,2],s=0,o=0;o<17;o++)s+=t[o]*i[o];a[s%11]!=t[17]&&(e="校验位错误",r=!1)}}else e="地址编码错误",r=!1;else e="身份证号格式错误",r=!1;var n={status:r,msg:e};return n};return{value1:"",pickerOptions:{disabledDate:function(t){return t.getTime()<Date.now()}},submit:{ordertype:2,traveldate:"",people_quantity:"",contactname:"",contactmobile:"",idcardno:"",child_quantity:0,groupname:""},submitrules:{traveldate:[{required:!0,message:"请选择预约日期",trigger:"blur"}],people_quantity:[{required:!0,validator:function(t,e,r){if(!e)return r(new Error("预约数量不能为空"));r(),setTimeout(function(){e<=0?r(new Error("至少预约1张")):r()},100)},trigger:"blur"}],contactname:[{required:!0,message:"请输入负责人姓名",trigger:"blur"}],groupname:[{required:!0,message:"请输入团队名称",trigger:"blur"}],idcardno:[{required:!0,validator:function(t,r,i){return r?e(r).status?void i():i(new Error(e(r).msg)):i(new Error("身份证号不能为空"))},trigger:"blur"}],contactmobile:[{required:!0,validator:function(e,r,i){if(!r)return i(new Error("手机号不能为空"));setTimeout(function(){t.test(r)?i():i(new Error("手机号不正确"))},300)},trigger:"blur"}]}}},created:function(){localStorage.removeItem("teamsubmit")},methods:{appoint:function(){var t=this;this.$refs.submitform.validate(function(e){if(!e)return t.$message({message:"请检查预约信息",type:"error"}),!1;t.$api.POrder(t.submit.traveldate,t.submit.people_quantity,t.submit.contactname,t.submit.contactmobile,t.submit.idcardno,t.submit.child_quantity,t.submit.ordertype,t.submit.groupname).then(function(e){console.log(e),1==e.status?(t.$message({message:"预约成功",type:"success"}),t.submit.order_qrcode=e.data.ResponseBody.order_qrcode,localStorage.setItem("teamsubmit",a()(t.submit)),t.$router.push({path:"/orderSuccess",query:{isteam:1}})):t.$message({message:e.msg,type:"error"})})})}}},o={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"yybox"},[r("div",{staticClass:"yytitle"},[t._v("预约须知")]),t._v(" "),t._m(0),t._v(" "),r("el-form",{ref:"submitform",staticClass:"formbox",attrs:{rules:t.submitrules,model:t.submit,"label-width":"140px"}},[r("el-form-item",{attrs:{label:"请选择预约日期：",prop:"traveldate"}},[r("el-date-picker",{attrs:{type:"date","value-format":"yyyy-MM-dd","picker-options":t.pickerOptions,placeholder:"请选择预约日期"},model:{value:t.submit.traveldate,callback:function(e){t.$set(t.submit,"traveldate",e)},expression:"submit.traveldate"}}),t._v(" "),r("span",{staticClass:"require_text"},[t._v("（必填）")])],1),t._v(" "),r("el-form-item",{attrs:{label:"团队名称：",prop:"groupname"}},[r("el-input",{attrs:{type:"text",placeholder:"请输入团队名称"},model:{value:t.submit.groupname,callback:function(e){t.$set(t.submit,"groupname","string"==typeof e?e.trim():e)},expression:"submit.groupname"}}),t._v(" "),r("span",{staticClass:"require_text"},[t._v("（必填）")])],1),t._v(" "),r("el-form-item",{attrs:{label:"团队负责人：",prop:"contactname"}},[r("el-input",{attrs:{type:"text",placeholder:"请输入负责人"},model:{value:t.submit.contactname,callback:function(e){t.$set(t.submit,"contactname","string"==typeof e?e.trim():e)},expression:"submit.contactname"}}),t._v(" "),r("span",{staticClass:"require_text"},[t._v("（必填）")])],1),t._v(" "),r("el-form-item",{attrs:{label:"身份证号：",prop:"idcardno"}},[r("el-input",{attrs:{type:"text",placeholder:"请输入身份证号"},model:{value:t.submit.idcardno,callback:function(e){t.$set(t.submit,"idcardno","string"==typeof e?e.trim():e)},expression:"submit.idcardno"}}),t._v(" "),r("span",{staticClass:"require_text"},[t._v("（必填）")])],1),t._v(" "),r("el-form-item",{attrs:{label:"手机号：",prop:"contactmobile"}},[r("el-input",{attrs:{type:"number",placeholder:"请输入手机号"},model:{value:t.submit.contactmobile,callback:function(e){t.$set(t.submit,"contactmobile","string"==typeof e?e.trim():e)},expression:"submit.contactmobile"}}),t._v(" "),r("span",{staticClass:"require_text"},[t._v("（必填）")])],1),t._v(" "),r("el-form-item",{attrs:{label:"团体人数：",prop:"people_quantity"}},[r("el-input",{attrs:{type:"number",placeholder:"请填写预约张数"},model:{value:t.submit.people_quantity,callback:function(e){t.$set(t.submit,"people_quantity","string"==typeof e?e.trim():e)},expression:"submit.people_quantity"}}),t._v(" "),r("span",{staticClass:"require_text"},[t._v("（必填）")])],1),t._v(" "),r("el-form-item",{staticClass:"btnbox"},[r("el-button",{staticClass:"btn",attrs:{type:"primary"},on:{click:t.appoint}},[t._v("预约")])],1)],1)],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"yyxuzhi"},[e("p",[this._v("1.为了给广大观众营造安全文明、安静适宜的参观环境，进一步提高观众参观质量，我馆实行团队预约参观制度。")]),this._v(" "),e("p",[this._v("2.请团队负责人至少提前一天通过博物馆馆方网站、微信公众号、导览APP 团体预约通道进行参观预约。")]),this._v(" "),e("p",[this._v("3.预约时须详细填写预约信息，并保证信息真实有效。预约成功后，团体负责人凭身份证在滁州博物馆自动取票机处取票入馆参观。")]),this._v(" "),e("p",[this._v(" 4.非预约团队须与普通观众一起排队等候参观。")])])}]};var n=r("VU/8")(s,o,!1,function(t){r("cSD0")},"data-v-5f02823a",null);e.default=n.exports},cSD0:function(t,e){},mvHQ:function(t,e,r){t.exports={default:r("qkKv"),__esModule:!0}},qkKv:function(t,e,r){var i=r("FeBl"),a=i.JSON||(i.JSON={stringify:JSON.stringify});t.exports=function(t){return a.stringify.apply(a,arguments)}}});
//# sourceMappingURL=1.7dc63a49bed803057383.js.map